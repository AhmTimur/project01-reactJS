(this.webpackJsonpproject01=this.webpackJsonpproject01||[]).push([[3],{465:function(e,t,a){e.exports={content_img:"ProfileInfo_content_img__1UmmN",item:"ProfileInfo_item__1wD8h",descriptionBlock:"ProfileInfo_descriptionBlock__1K-RV",avatar:"ProfileInfo_avatar__1rJ1k",status:"ProfileInfo_status__TXkqB",contacts:"ProfileInfo_contacts__1BvWc"}},466:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__25x64",posts:"MyPosts_posts__1AiDp"}},467:function(e,t,a){e.exports={item:"Post_item__1nWSQ"}},468:function(e,t,a){"use strict";a.r(t);var n=a(175),r=a(176),l=a(218),o=a(216),s=a(0),i=a.n(s);var c=a(179);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(i){r=!0,l=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return a}}(e,t)||Object(c.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=a(465),p=a.n(m),f=a(80),d=function(e){var t=u(Object(s.useState)(!1),2),a=t[0],n=t[1],r=u(Object(s.useState)(e.status),2),l=r[0],o=r[1];Object(s.useEffect)((function(){o(e.status)}),[e.status]);return i.a.createElement("div",null,!a&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){n(!0)}},e.status||"set a status message")),a&&i.a.createElement("div",null,i.a.createElement("input",{autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(l)},onChange:function(e){o(e.currentTarget.value)},value:l})))},b=a(62),E=a(215),v=a(97),h=a.n(v),g=Object(E.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return i.a.createElement("form",{onSubmit:a},n&&i.a.createElement("div",{className:h.a.formCommonError},i.a.createElement("span",null,n)),i.a.createElement("div",null,i.a.createElement("button",null,"Save")),i.a.createElement("div",null,i.a.createElement("b",null,"FullName"),": ",Object(b.c)("FullName","fullName","",b.a,[])),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job"),": ",Object(b.c)("","lookingForAJob","checkbox",b.a,[])),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills"),": ",Object(b.c)("My professional skills","lookingForAJobDescription","checkbox",b.b,[])),i.a.createElement("div",null,i.a.createElement("b",null,"About me"),": ",Object(b.c)("About me","aboutMe","",b.b,[],{})),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),":",i.a.createElement("div",{className:p.a.contacts},Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("b",null,e),": ",Object(b.c)(e,"contacts."+e,"",b.a,[]))})))))})),k=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode,r=e.status,l=e.updateStatus;return i.a.createElement("div",null,a&&i.a.createElement("div",null,i.a.createElement("button",{onClick:n},"Edit")),i.a.createElement("div",null,i.a.createElement("b",null,"FullName"),": ",t.fullName),i.a.createElement("div",{className:p.a.status},i.a.createElement("b",null,"Status"),":",i.a.createElement(d,{status:r,updateStatus:l})),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"Yes":"No"),t.lookingForAJob&&i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),i.a.createElement("div",null,i.a.createElement("b",null,"About me"),": ",t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),":",i.a.createElement("div",{className:p.a.contacts},Object.keys(t.contacts).map((function(e){return i.a.createElement(P,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))},P=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",null,i.a.createElement("b",null,t),": ",a)},y=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.sendPhoto,l=e.isOwner,o=e.saveProfileData,c=u(Object(s.useState)(!1),2),m=c[0],d=c[1];if(!t)return i.a.createElement(f.a,null);return i.a.createElement("div",null,i.a.createElement("div",{className:p.a.descriptionBlock},i.a.createElement("div",null,i.a.createElement("img",{className:p.a.avatar,src:null!=t.photos.large?t.photos.large:"https://vectorified.com/images/no-profile-picture-icon-13.png"}),l&&i.a.createElement("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&r(e.target.files[0])}})),m?i.a.createElement("div",null,i.a.createElement(g,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){d(!1)}))}})):i.a.createElement("div",null,i.a.createElement(k,{profile:t,status:a,updateStatus:n,isOwner:l,goToEditMode:function(){d(!0)}}))))},O=a(81),j=a(466),_=a.n(j),S=a(467),w=a.n(S),N=function(e){return i.a.createElement("div",{className:w.a.item},i.a.createElement("img",{src:"https://www.w3schools.com/howto/img_avatar.png"}),e.message,i.a.createElement("div",null,i.a.createElement("span",null,"Likes ",e.likesCount)))},I=a(96),A=Object(E.a)({form:"ProfileAddNewPost"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,Object(b.c)("Write your post text","newPostText","",b.a,[I.b])),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),D=i.a.memo((function(e){var t=Object(O.a)(e.posts).reverse().map((function(e){return i.a.createElement(N,{key:e.id,message:e.message,likesCount:e.likesCount})}));return i.a.createElement("div",{className:_.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement("div",null,i.a.createElement(A,{onSubmit:function(t){e.addNewPost(t.newPostText)}})),i.a.createElement("div",{className:_.a.posts},t))})),x=a(21),C=a(172),M=Object(x.b)((function(e){return{posts:e.profilePage.posts}}),{addNewPost:C.a.addNewPost})(D),B=function(e){return i.a.createElement("div",null,i.a.createElement(y,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,sendPhoto:e.sendPhoto,saveProfileData:e.saveProfileData}),i.a.createElement(M,null))},F=a(27),T=a(24),J=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should exists in params or in state ('authorizedId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(B,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,sendPhoto:this.props.sendPhoto,saveProfileData:this.props.saveProfileData}))}}]),a}(i.a.Component);t.default=Object(T.d)(Object(x.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:C.d,getStatus:C.c,updateStatus:C.g,sendPhoto:C.f,saveProfileData:C.e}),F.h)(J)}}]);
//# sourceMappingURL=3.955eb2f1.chunk.js.map